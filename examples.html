<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Examples - Canon Protocol</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        header {
            background: rgba(255, 255, 255, 0.98);
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 2rem;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .logo {
            font-size: 1.5rem;
            font-weight: bold;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        nav ul {
            list-style: none;
            display: flex;
            gap: 2rem;
        }
        
        nav a {
            text-decoration: none;
            color: #555;
            font-weight: 500;
            transition: color 0.3s;
        }
        
        nav a:hover, nav a.active {
            color: #667eea;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 2rem;
        }
        
        .content-card {
            background: white;
            border-radius: 15px;
            padding: 3rem;
            margin: 2rem 0;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        
        h1 {
            color: #2c3e50;
            font-size: 2.5rem;
            margin-bottom: 2rem;
            border-bottom: 3px solid #667eea;
            padding-bottom: 0.5rem;
        }
        
        h2 {
            color: #34495e;
            font-size: 1.8rem;
            margin: 2.5rem 0 1rem;
        }
        
        h3 {
            color: #7f8c8d;
            font-size: 1.3rem;
            margin: 1.5rem 0 0.8rem;
        }
        
        .example-section {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 2rem;
            margin: 2rem 0;
            border-left: 4px solid #667eea;
        }
        
        pre {
            background: #2c3e50;
            color: #f8f9fa;
            padding: 1rem;
            margin: 1rem 0;
            overflow-x: auto;
            border-radius: 5px;
            font-size: 0.9rem;
        }
        
        code {
            font-family: 'Courier New', monospace;
        }
        
        .example-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }
        
        .example-type {
            display: inline-block;
            background: #667eea;
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 500;
        }
        
        .description {
            color: #666;
            margin: 1rem 0;
            font-style: italic;
        }
        
        .input-output {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .input-output > div {
            background: white;
            padding: 1rem;
            border-radius: 8px;
            border: 1px solid #e0e0e0;
        }
        
        .input-output h4 {
            color: #667eea;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .input-output pre {
            background: #f8f9fa;
            color: #333;
            border: 1px solid #e0e0e0;
            margin-top: 0.5rem;
        }
        
        @media (max-width: 768px) {
            .input-output {
                grid-template-columns: 1fr;
            }
        }
        
        .tag {
            display: inline-block;
            background: #e8f4ff;
            color: #3498db;
            padding: 0.2rem 0.5rem;
            border-radius: 3px;
            font-size: 0.85rem;
            margin: 0.2rem;
        }
    </style>
</head>
<body>
    <header>
        <nav>
            <div class="logo">Canon Protocol</div>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="getting-started.html">Getting Started</a></li>
                <li><a href="examples.html" class="active">Examples</a></li>
                <li><a href="https://spec.farm">Registry</a></li>
                <li><a href="https://github.com/canon-protocol">GitHub</a></li>
            </ul>
        </nav>
    </header>
    
    <div class="container">
        <div class="content-card">
            <h1>Canon Protocol Examples</h1>
            
            <p>Explore real-world examples of Canon specifications and transformations.</p>
            
            <h2>API Specification</h2>
            
            <div class="example-section">
                <div class="example-header">
                    <h3>REST API Type Definition</h3>
                    <span class="example-type">Type Definition</span>
                </div>
                
                <p class="description">Define a type for REST API endpoints with validation rules.</p>
                
                <pre><code>canon: 1.0
type: canon-protocol.org/type@1.0.0
name: rest-api
version: 1.0.0
description: REST API endpoint specification

fields:
  - name: endpoint
    type: string
    required: true
    pattern: "^https?://.*"
    description: Full API endpoint URL
    
  - name: method
    type: string
    required: true
    enum: [GET, POST, PUT, PATCH, DELETE, HEAD, OPTIONS]
    default: GET
    
  - name: headers
    type: map
    required: false
    description: HTTP request headers
    
  - name: body
    type: any
    required: false
    description: Request body (for POST/PUT/PATCH)
    
  - name: query_params
    type: map
    required: false
    description: URL query parameters
    
  - name: auth
    type: object
    required: false
    fields:
      - name: type
        type: string
        enum: [bearer, basic, api_key]
      - name: credentials
        type: string
        required: true</code></pre>
                
                <div class="input-output">
                    <div>
                        <h4>Input (Natural Language)</h4>
                        <pre><code>"POST to https://api.example.com/users 
with bearer token xyz123"</code></pre>
                    </div>
                    <div>
                        <h4>Output (Structured)</h4>
                        <pre><code>{
  "endpoint": "https://api.example.com/users",
  "method": "POST",
  "auth": {
    "type": "bearer",
    "credentials": "xyz123"
  }
}</code></pre>
                    </div>
                </div>
            </div>
            
            <h2>Database Schema</h2>
            
            <div class="example-section">
                <div class="example-header">
                    <h3>SQL Table Definition</h3>
                    <span class="example-type">Type Definition</span>
                </div>
                
                <p class="description">Create structured database table specifications.</p>
                
                <pre><code>canon: 1.0
type: canon-protocol.org/type@1.0.0
name: sql-table
version: 1.0.0
description: SQL table schema definition

fields:
  - name: table_name
    type: string
    required: true
    pattern: "^[a-zA-Z_][a-zA-Z0-9_]*$"
    
  - name: columns
    type: array
    required: true
    items:
      type: object
      fields:
        - name: name
          type: string
          required: true
        - name: type
          type: string
          enum: [INTEGER, VARCHAR, TEXT, BOOLEAN, DATE, TIMESTAMP, DECIMAL]
        - name: constraints
          type: array
          items:
            type: string
            enum: [PRIMARY KEY, NOT NULL, UNIQUE, AUTO_INCREMENT]
        - name: default
          type: any
          required: false
          
  - name: indexes
    type: array
    required: false
    items:
      type: object
      fields:
        - name: name
          type: string
        - name: columns
          type: array
          items:
            type: string
        - name: unique
          type: boolean
          default: false</code></pre>
            </div>
            
            <h2>Transformation Examples</h2>
            
            <div class="example-section">
                <div class="example-header">
                    <h3>Natural Language to API Call</h3>
                    <span class="example-type">Transformation</span>
                </div>
                
                <p class="description">Transform conversational requests into API specifications.</p>
                
                <pre><code>canon: 1.0
type: canon-protocol.org/transformation@1.0.0
name: nlp-to-api
version: 1.0.0
target: my-org.com/rest-api@1.0.0
priority: 500

patterns:
  - "fetch {resource} from {endpoint}"
  - "get all {resource} at {endpoint}"
  - "create new {resource} at {endpoint} with {data}"
  - "update {resource} {id} at {endpoint} with {data}"
  - "delete {resource} {id} from {endpoint}"

transform: |
  function transform(input, matches) {
    const verbs = {
      'fetch': 'GET',
      'get': 'GET',
      'create': 'POST',
      'update': 'PUT',
      'delete': 'DELETE'
    };
    
    const action = input.split(' ')[0].toLowerCase();
    const method = verbs[action] || 'GET';
    
    let endpoint = matches.endpoint;
    if (matches.id) {
      endpoint = `${endpoint}/${matches.id}`;
    }
    
    const result = {
      endpoint: endpoint,
      method: method
    };
    
    if (matches.data) {
      result.body = JSON.parse(matches.data);
    }
    
    return result;
  }</code></pre>
                
                <div class="input-output">
                    <div>
                        <h4>Input Examples</h4>
                        <pre><code>"fetch users from https://api.example.com/users"

"create new user at https://api.example.com/users 
 with {\"name\": \"John\", \"email\": \"john@example.com\"}"

"delete user 123 from https://api.example.com/users"</code></pre>
                    </div>
                    <div>
                        <h4>Output Results</h4>
                        <pre><code>{
  "endpoint": "https://api.example.com/users",
  "method": "GET"
}

{
  "endpoint": "https://api.example.com/users",
  "method": "POST",
  "body": {
    "name": "John",
    "email": "john@example.com"
  }
}

{
  "endpoint": "https://api.example.com/users/123",
  "method": "DELETE"
}</code></pre>
                    </div>
                </div>
            </div>
            
            <h2>Configuration File Type</h2>
            
            <div class="example-section">
                <div class="example-header">
                    <h3>Application Configuration</h3>
                    <span class="example-type">Type Definition</span>
                </div>
                
                <p class="description">Define structured configuration with environment-specific settings.</p>
                
                <pre><code>canon: 1.0
type: canon-protocol.org/type@1.0.0
name: app-config
version: 2.0.0
description: Application configuration specification

fields:
  - name: app_name
    type: string
    required: true
    
  - name: environment
    type: string
    required: true
    enum: [development, staging, production]
    
  - name: server
    type: object
    required: true
    fields:
      - name: host
        type: string
        default: "localhost"
      - name: port
        type: integer
        min: 1
        max: 65535
        default: 3000
      - name: ssl
        type: boolean
        default: false
        
  - name: database
    type: object
    required: false
    fields:
      - name: type
        type: string
        enum: [postgres, mysql, mongodb, redis]
      - name: connection_string
        type: string
        secret: true
      - name: pool_size
        type: integer
        min: 1
        max: 100
        default: 10
        
  - name: features
    type: map
    required: false
    description: Feature flags
    value_type: boolean
    
  - name: logging
    type: object
    fields:
      - name: level
        type: string
        enum: [debug, info, warn, error]
        default: info
      - name: format
        type: string
        enum: [json, text]
        default: json</code></pre>
            </div>
            
            <h2>Event Stream Type</h2>
            
            <div class="example-section">
                <div class="example-header">
                    <h3>Event-Driven Architecture</h3>
                    <span class="example-type">Type Definition</span>
                </div>
                
                <p class="description">Define events for message queues and event streaming.</p>
                
                <pre><code>canon: 1.0
type: canon-protocol.org/type@1.0.0
name: event
version: 1.0.0
description: Event message specification

fields:
  - name: event_id
    type: string
    required: true
    format: uuid
    
  - name: event_type
    type: string
    required: true
    pattern: "^[a-z]+\\.[a-z]+\\.[a-z]+$"
    description: "Format: domain.entity.action"
    
  - name: timestamp
    type: string
    required: true
    format: iso8601
    
  - name: version
    type: string
    required: true
    pattern: "^\\d+\\.\\d+\\.\\d+$"
    
  - name: source
    type: object
    required: true
    fields:
      - name: service
        type: string
        required: true
      - name: instance_id
        type: string
        required: false
        
  - name: data
    type: any
    required: true
    description: Event payload
    
  - name: metadata
    type: map
    required: false
    description: Additional event metadata
    
  - name: correlation_id
    type: string
    required: false
    format: uuid
    description: For tracing related events</code></pre>
            </div>
            
            <h2>Composite Example</h2>
            
            <div class="example-section">
                <div class="example-header">
                    <h3>Microservice Definition</h3>
                    <span class="example-type">Composite Type</span>
                </div>
                
                <p class="description">Combine multiple Canon types to define a complete microservice.</p>
                
                <pre><code>canon: 1.0
type: canon-protocol.org/type@1.0.0
name: microservice
version: 1.0.0
description: Complete microservice specification

imports:
  - my-org.com/rest-api@1.0.0
  - my-org.com/event@1.0.0
  - my-org.com/app-config@2.0.0

fields:
  - name: service_name
    type: string
    required: true
    
  - name: configuration
    type: my-org.com/app-config@2.0.0
    required: true
    
  - name: api_endpoints
    type: array
    items:
      type: my-org.com/rest-api@1.0.0
    description: REST API endpoints exposed by this service
    
  - name: events_published
    type: array
    items:
      type: my-org.com/event@1.0.0
    description: Events this service publishes
    
  - name: events_consumed
    type: array
    items:
      type: string
    description: Event types this service subscribes to
    
  - name: dependencies
    type: array
    items:
      type: object
      fields:
        - name: service
          type: string
        - name: version
          type: string
        - name: required
          type: boolean
          default: true</code></pre>
            </div>
            
            <h2>Tags</h2>
            <p>Browse examples by category:</p>
            <div>
                <span class="tag">API</span>
                <span class="tag">Database</span>
                <span class="tag">Configuration</span>
                <span class="tag">Events</span>
                <span class="tag">Microservices</span>
                <span class="tag">Transformations</span>
                <span class="tag">Validation</span>
                <span class="tag">Schema</span>
            </div>
        </div>
    </div>
</body>
</html>